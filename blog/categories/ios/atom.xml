<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: IOS | 老虎的眼睛]]></title>
  <link href="http://www.wanghd.com/blog/categories/ios/atom.xml" rel="self"/>
  <link href="http://www.wanghd.com/"/>
  <updated>2014-01-27T21:12:37+08:00</updated>
  <id>http://www.wanghd.com/</id>
  <author>
    <name><![CDATA[王惠达 huida wanghuida]]></name>
    <email><![CDATA[wanghuida258@yahoo.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ios 静态库]]></title>
    <link href="http://www.wanghd.com/blog/2014/01/27/ios-jing-tai-ku/"/>
    <updated>2014-01-27T20:28:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2014/01/27/ios-jing-tai-ku</id>
    <content type="html"><![CDATA[<h3>不是真想要写静态库，只是对自己使用第三方静态库很有好处</h3>

<ul>
<li>如果经常遇到undefine symbols for architecture xxx 这样的错误，那么看完后就能知道原因了</li>
</ul>


<p>1 建静态库工程</p>

<p><img style="max-width:300px;" src="http://www.wanghd.com/images/post/ioslib1.jpg" /></p>

<p>2 加一个库方法</p>

<p>```objective-c
// .h
+ (void)printHelloWorld;</p>

<p>// .m
+ (void)printHelloWorld
{
  NSLog(@"Hello World!!!");
}</p>

<p>```</p>

<p>3 直接debug运行，右键进入finder复制.h 和.a文件到新项目中</p>

<p><img style="max-width:300px;" src="http://www.wanghd.com/images/post/ioslib2.jpg" /></p>

<!-- more -->


<p>4 在新项目中使用静态库 报错Undefined symbols for architecture i386:</p>

<p>```objective-c</p>

<h1>import "tmpLib.h"</h1>

<p>[tmpLib printHelloWorld];</p>

<p>```</p>

<p>5 查看.a文件支持的架构</p>

<p>```
lipo -detailed_info libtmpLib.a</p>

<p>// 输出 Non-fat file: libtmpLib.a is architecture: armv7s
```</p>

<p>6 要虚拟机跑起来必须包含i386架构，还应该包含arm64 armv7 armv7s</p>

<p>```
// i386对应虚拟机 arm是各种机型
// debug运行生成i386架构
// release运行生成所有arm架构</p>

<p>lipo -create Debug-iphonesimulator/libtmpLib.a Release-iphoneos/libtmpLib.a -output libtmpLib.a
lipo -info libtmpLib.a</p>

<p>// 输出Architectures in the fat file: libtmpLib.a are: i386 armv7 armv7s arm64
```</p>

<p>7 替换.a文件看下结果</p>

<p><img style="max-width:200px;" src="http://www.wanghd.com/images/post/ioslib3.jpg" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CALayer 常用例子]]></title>
    <link href="http://www.wanghd.com/blog/2014/01/27/calayer-chang-yong-li-zi/"/>
    <updated>2014-01-27T14:13:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2014/01/27/calayer-chang-yong-li-zi</id>
    <content type="html"><![CDATA[<ul>
<li>先看下默认效果</li>
</ul>


<p><img style="max-width:100px;" src="http://www.wanghd.com/images/post/cglayer1.jpg" /></p>

<p>```objective-c</p>

<p>UIImage <em>avatar = [UIImage imageNamed:@"touxiang"];
UIImageView </em>avatarView = [[UIImageView alloc]initWithImage:avatar];
avatarView.frame = CGRectMake(50, 50, 80, 80);
avatarView.center = CGPointMake(rect.size.width/2, rect.size.height/2);
[self.view addSubview:avatarView];</p>

<p>```</p>

<ul>
<li>第一种就圆角头像</li>
</ul>


<p><img style="max-width:100px;" src="http://www.wanghd.com/images/post/cglayer2.jpg" /></p>

<p>```objective-c</p>

<p>avatarView.layer.borderWidth = 1; //边框
avatarView.layer.borderColor = [[UIColor grayColor] CGColor]; //边框颜色
avatarView.layer.cornerRadius = 40; //圆角
avatarView.layer.masksToBounds = YES; //隐藏超出的部分</p>

<p>```</p>

<!-- more -->


<ul>
<li>第二种是加阴影</li>
</ul>


<p><img style="max-width:100px;" src="http://www.wanghd.com/images/post/cglayer3.jpg" /></p>

<p>```objective-c</p>

<p>avatarView.layer.shadowColor = [[UIColor blackColor] CGColor]; //颜色
avatarView.layer.shadowOffset = CGSizeMake(3, 3); //控制阴影的方向,x,y
avatarView.layer.shadowRadius = 3; //阴影范围
avatarView.layer.shadowOpacity = 0.8; //控制阴影透明度</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[uitableview (3)]]></title>
    <link href="http://www.wanghd.com/blog/2014/01/27/uitableview-3/"/>
    <updated>2014-01-27T13:32:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2014/01/27/uitableview-3</id>
    <content type="html"><![CDATA[<h3>tableview还有一种编辑状态也很常用，很简单下面是教程</h3>

<p>1 老规矩 自己先创建一个ViewController, 添加一个UITableView内部属性和数据</p>

<p><code>objective-c
@interface AEEditTableViewController ()
{
  UITableView *_table;
  NSMutableArray *_data;
}
</code></p>

<p>2 头里需要实现UITableViewDataSource, UITableViewDelegate</p>

<p>```objective-c</p>

<h1>import &lt;UIKit/UIKit.h></h1>

<p>@interface AEEditTableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate></p>

<p>@end
```</p>

<p>3 让window的root view设置为创建的view，并设置一个navigation</p>

<p>```objective-c
- (BOOL)application:(UIApplication <em>)application didFinishLaunchingWithOptions:(NSDictionary </em>)launchOptions
{
  self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
  self.window.backgroundColor = [UIColor whiteColor];
  [self.window makeKeyAndVisible];</p>

<p>  AEEditTableViewController <em>viewCtl = [[AEEditTableViewController alloc]initWithNibName:nil bundle:nil];
  UINavigationController </em>nav = [[UINavigationController alloc]initWithRootViewController:viewCtl];</p>

<p>  self.window.rootViewController = nav;</p>

<p>  return YES;
}
```</p>

<!-- more -->


<p>4 往<em>data中加入一点数据,初始化</em>table,设置代理和数据源，在导航上加个按钮</p>

<p>```objective-c
- (id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
  self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
  if (self) {</p>

<pre><code>_data = [[NSMutableArray alloc]initWithArray:@[@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8"]];
</code></pre>

<p>  }
  return self;
}</p>

<ul>
<li><p>(void)viewDidLoad
{
[super viewDidLoad];</p>

<p>UIBarButtonItem *btn = [[UIBarButtonItem alloc] initWithTitle:@"编辑"</p>

<pre><code>                                                    style:UIBarButtonItemStyleBordered
                                                   target:self
                                                   action:@selector(tapEditBtn:)];
</code></pre>

<p>self.navigationItem.rightBarButtonItem = btn;</p>

<p>CGRect rect = [[UIScreen mainScreen] bounds];
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStylePlain];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}</p></li>
</ul>


<h1>pragma mark - tapEditBtn</h1>

<ul>
<li>(void)tapEditBtn:(UIBarButtonItem *)btn
{
if ([btn.title isEqualToString:@"编辑"]) {
  btn.title = @"保存";
  [<em>table setEditing:YES animated:YES];
} else {
  btn.title = @"编辑";
  [</em>table setEditing:NO animated:YES];
}
}
```</li>
</ul>


<p>5 设置数据源，增加删除的操作</p>

<p>```objective-c</p>

<h1>pragma mark - datasource</h1>

<p>// 可以不写噢，默认就是delete模式
- (UITableViewCellEditingStyle)tableView:(UITableView <em>)tableView editingStyleForRowAtIndexPath:(NSIndexPath </em>)indexPath
{
  // 当然也可以insert 就是不太用
  // return UITableViewCellEditingStyleInsert;
  return UITableViewCellEditingStyleDelete;
}</p>

<p>// 删除的操作
- (void)tableView:(UITableView <em>)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath </em>)indexPath
{
  if (editingStyle == UITableViewCellEditingStyleDelete) {</p>

<pre><code>[_data removeObjectAtIndex:indexPath.row];
[tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];
</code></pre>

<p>  }
}</p>

<p>// 哪些可以删，哪些不能删
- (BOOL)tableView:(UITableView <em>)tableView canEditRowAtIndexPath:(NSIndexPath </em>)indexPath
{
  return indexPath.row == 1 ? NO : YES;
}</p>

<ul>
<li><p>(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
return [_data count];
}</p></li>
<li><p>(UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
static NSString </em>cellId = @"cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
if (cell == nil) {
  cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
}
cell.textLabel.text = [_data objectAtIndex:indexPath.row];
return cell;
}
```</p></li>
</ul>


<p>6 看下效果吧</p>

<p><img style="max-width:300px;" src="http://www.wanghd.com/images/post/ios-uitableview-3.jpg" /></p>

<p>7 附赠全部源代码</p>

<p>```objective-c</p>

<p>// .h</p>

<h1>import &lt;UIKit/UIKit.h></h1>

<p>@interface AEEditTableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate></p>

<p>@end</p>

<p>// .m</p>

<h1>import "AEEditTableViewController.h"</h1>

<p>@interface AEEditTableViewController ()
{
  UITableView <em>_table;
  NSMutableArray </em>_data;
}</p>

<p>@end</p>

<p>@implementation AEEditTableViewController</p>

<ul>
<li><p>(id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
  _data = [[NSMutableArray alloc]initWithArray:@[@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8"]];
}
return self;
}</p></li>
<li><p>(void)viewDidLoad
{
[super viewDidLoad];</p>

<p>UIBarButtonItem *btn = [[UIBarButtonItem alloc] initWithTitle:@"编辑"</p>

<pre><code>                                                    style:UIBarButtonItemStyleBordered
                                                   target:self
                                                   action:@selector(tapEditBtn:)];
</code></pre>

<p>self.navigationItem.rightBarButtonItem = btn;</p>

<p>CGRect rect = [[UIScreen mainScreen] bounds];
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStylePlain];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}</p></li>
</ul>


<h1>pragma mark - tapEditBtn</h1>

<ul>
<li>(void)tapEditBtn:(UIBarButtonItem *)btn
{
if ([btn.title isEqualToString:@"编辑"]) {
  btn.title = @"保存";
  [<em>table setEditing:YES animated:YES];
} else {
  btn.title = @"编辑";
  [</em>table setEditing:NO animated:YES];
}
}</li>
</ul>


<h1>pragma mark - datasource</h1>

<ul>
<li><p>(UITableViewCellEditingStyle)tableView:(UITableView <em>)tableView editingStyleForRowAtIndexPath:(NSIndexPath </em>)indexPath
{
// 当然也可以insert 就是不太用
// return UITableViewCellEditingStyleInsert;
return UITableViewCellEditingStyleDelete;
}</p></li>
<li><p>(void)tableView:(UITableView <em>)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath </em>)indexPath
{
if (editingStyle == UITableViewCellEditingStyleDelete) {
  [_data removeObjectAtIndex:indexPath.row];
  [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];
}
}</p></li>
<li><p>(BOOL)tableView:(UITableView <em>)tableView canEditRowAtIndexPath:(NSIndexPath </em>)indexPath
{
return indexPath.row == 1 ? NO : YES;
}</p></li>
<li><p>(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
return [_data count];
}</p></li>
<li><p>(UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
static NSString </em>cellId = @"cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
if (cell == nil) {
  cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
}
cell.textLabel.text = [_data objectAtIndex:indexPath.row];
return cell;
}</p></li>
<li><p>(void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}</p></li>
</ul>


<p>@end</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UITableView (2)]]></title>
    <link href="http://www.wanghd.com/blog/2014/01/26/uitableview-2/"/>
    <updated>2014-01-26T09:30:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2014/01/26/uitableview-2</id>
    <content type="html"><![CDATA[<h3>展示一下最基础的group table应该如何使用（一般设置中最常用），最后有完整的代码</h3>

<p>1 自己先创建一个ViewController, 添加一个UITableView内部属性和数据</p>

<p><code>objective-c
@interface AETableViewController ()
{
  UITableView *_table;  
  NSMutableArray *_data;
}
</code></p>

<p>2 头里需要实现UITableViewDataSource, UITableViewDelegate</p>

<p><code>objective-c
@interface AETableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate&gt;
@end
</code></p>

<p>3 往<em>data中加入一点数据,初始化</em>table,设置代理和数据源</p>

<p>```objective-c
- (id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
  self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
  if (self) {</p>

<pre><code>NSArray *group1 = @[@"关注", @"美美豆", @"安居客"];
NSArray *group2 = @[@"wanghd.com", @"惠达", @"达达"];
NSArray *group3 = @[@"喜欢", @"关注", @"粉丝"];
_data = [[NSMutableArray alloc]initWithArray:@[group1, group2]];
</code></pre>

<p>  }
  return self;
}</p>

<ul>
<li>(void)viewDidLoad
{
[super viewDidLoad];
CGRect rect = [[UIScreen mainScreen]bounds];
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStyleGrouped];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}
```</li>
</ul>


<!-- more -->


<p>4 设置数据源的总数和内容</p>

<p>```objective-c</p>

<h1>pragma mark -</h1>

<h1>pragma mark datasource</h1>

<p>// 每个section head的高度
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section
{
  return 20;
}</p>

<p>// 每个section foot高度，设置为0没有效果，0.01才行
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section
{
  return 0.01;
}</p>

<p>// cell的高度
- (CGFloat)tableView:(UITableView <em>)tableView heightForRowAtIndexPath:(NSIndexPath </em>)indexPath
{
  return 44.0;
}</p>

<p>// 每个section head 的view
- (UIView <em>)tableView:(UITableView </em>)tableView viewForHeaderInSection:(NSInteger)section
{
  CGRect rect = CGRectMake(0, 0, 320, 20);
  UILabel *txt = [[UILabel alloc]initWithFrame:rect];
  txt.text = [NSString stringWithFormat:@"group%d", section];
  txt.textAlignment = NSTextAlignmentCenter;
  txt.font = [UIFont systemFontOfSize:11];
  return txt;
}</p>

<p>// section 总共有多少个
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
  return [_data count];
}</p>

<p>// 每个section 有多少行
- (NSInteger)tableView:(UITableView <em>)tableView numberOfRowsInSection:(NSInteger)section
{
  NSArray </em>group = [_data objectAtIndex:section];
  return [group count];
}</p>

<p>// 具体的cell
- (UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
  static NSString </em>cellId = @"cell";
  UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
  if (cell == nil) {</p>

<pre><code>cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
</code></pre>

<p>  }
  NSArray *group = [_data objectAtIndex:indexPath.section];
  cell.textLabel.text = [group objectAtIndex:indexPath.row];
  return cell;
}
```</p>

<p>5 测试最常用的行点击</p>

<p>```objective-c</p>

<h1>pragma mark -</h1>

<h1>pragma mark delegate</h1>

<ul>
<li>(void)tableView:(UITableView <em>)tableView didSelectRowAtIndexPath:(NSIndexPath </em>)indexPath
{
NSArray <em>group = [_data objectAtIndex:indexPath.section];
NSString </em>txt = [group objectAtIndex:indexPath.row];
NSLog(@"%@", txt);
}</li>
</ul>


<p>```</p>

<p>6 看下效果吧</p>

<p><img style="max-width:300px;" src="http://www.wanghd.com/images/post/ios-uitableview-2.jpg" /></p>

<p>7 看下完整的代码</p>

<p>```objective-c</p>

<p>// .h</p>

<h1>import &lt;UIKit/UIKit.h></h1>

<p>@interface AEGroupTableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate></p>

<p>@end</p>

<p>// .m</p>

<h1>import "AEGroupTableViewController.h"</h1>

<p>@interface AEGroupTableViewController ()
{
  UITableView <em>_table;
  NSMutableArray </em>_data;
}</p>

<p>@end</p>

<p>@implementation AEGroupTableViewController</p>

<ul>
<li><p>(id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
  NSArray <em>group1 = @[@"关注", @"美美豆", @"安居客"];
  NSArray </em>group2 = @[@"wanghd.com", @"惠达", @"达达"];
  NSArray *group3 = @[@"喜欢", @"关注", @"粉丝"];
  _data = [[NSMutableArray alloc]initWithArray:@[group1, group2, group3]];
}
return self;
}</p></li>
<li><p>(void)viewDidLoad
{
[super viewDidLoad];
CGRect rect = [[UIScreen mainScreen]bounds];
rect.origin.y = 20;
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStyleGrouped];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}</p></li>
</ul>


<h1>pragma mark -</h1>

<h1>pragma mark datasource</h1>

<ul>
<li><p>(CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section
{
return 20;
}</p></li>
<li><p>(CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section
{
return 0.01;
}</p></li>
<li><p>(CGFloat)tableView:(UITableView <em>)tableView heightForRowAtIndexPath:(NSIndexPath </em>)indexPath
{
return 44.0;
}</p></li>
<li><p>(UIView <em>)tableView:(UITableView </em>)tableView viewForHeaderInSection:(NSInteger)section
{
CGRect rect = CGRectMake(0, 0, 320, 20);
UILabel *txt = [[UILabel alloc]initWithFrame:rect];
txt.text = [NSString stringWithFormat:@"group%d", section];
txt.textAlignment = NSTextAlignmentCenter;
txt.font = [UIFont systemFontOfSize:11];
return txt;
}</p></li>
<li><p>(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
return [_data count];
}</p></li>
<li><p>(NSInteger)tableView:(UITableView <em>)tableView numberOfRowsInSection:(NSInteger)section
{
NSArray </em>group = [_data objectAtIndex:section];
return [group count];
}</p></li>
<li><p>(UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
static NSString </em>cellId = @"cell";
UITableViewCell <em>cell = [tableView dequeueReusableCellWithIdentifier:cellId];
if (cell == nil) {
  cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
}
NSArray </em>group = [_data objectAtIndex:indexPath.section];
cell.textLabel.text = [group objectAtIndex:indexPath.row];
return cell;
}</p></li>
</ul>


<h1>pragma mark -</h1>

<h1>pragma mark delegate</h1>

<ul>
<li><p>(void)tableView:(UITableView <em>)tableView didSelectRowAtIndexPath:(NSIndexPath </em>)indexPath
{
NSArray <em>group = [_data objectAtIndex:indexPath.section];
NSString </em>txt = [group objectAtIndex:indexPath.row];
NSLog(@"%@", txt);
}</p></li>
<li><p>(void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}</p></li>
</ul>


<p>@end</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UITableView (1)]]></title>
    <link href="http://www.wanghd.com/blog/2014/01/24/uitableview-1/"/>
    <updated>2014-01-24T17:28:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2014/01/24/uitableview-1</id>
    <content type="html"><![CDATA[<h3>展示一下最基础的uitableview应该如何使用，最后有完整的代码</h3>

<p>1 自己先创建一个ViewController, 添加一个UITableView内部属性和数据</p>

<p><code>objective-c
@interface AETableViewController ()
{
  UITableView *_table;  
  NSMutableArray *_data;
}
</code></p>

<p>2 头里需要实现UITableViewDataSource, UITableViewDelegate（delegate其实不用，但实际一般都会用到）</p>

<p><code>objective-c
@interface AETableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate&gt;
@end
</code></p>

<p>3 往<em>data中加入一点数据,初始化</em>table,设置代理和数据源</p>

<p>```objective-c
- (id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
  self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
  if (self) {</p>

<pre><code>_data = [NSMutableArray arrayWithArray:@[@"美美豆", @"抢拍", @"预约", @"wanghd.com", @"王惠达"]];
</code></pre>

<p>  }
  return self;
}</p>

<ul>
<li>(void)viewDidLoad
{
[super viewDidLoad];
CGRect rect = [[UIScreen mainScreen] bounds];
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStylePlain];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}
```</li>
</ul>


<!-- more -->


<p>4 设置数据源的总数和内容</p>

<p>```objective-c</p>

<h1>pragma mark -</h1>

<h1>pragma mark datasource</h1>

<ul>
<li><p>(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
return [_data count];
}</p></li>
<li><p>(UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
static NSString </em>cellId = @"cell";
// 这里可以复用cell提高性能
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
if (cell == nil) {
  cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
}
cell.textLabel.text = [_data objectAtIndex:indexPath.row];
return cell;
}</p></li>
</ul>


<p>```</p>

<p>5 运行起来看下效果吧</p>

<p><img style="max-width:300px;" src="http://www.wanghd.com/images/post/ios-uitableview-1.jpg" /></p>

<p>6 附赠一份完整的代码</p>

<p>```objective-c
// .h</p>

<h1>import &lt;UIKit/UIKit.h></h1>

<p>@interface AETableViewController : UIViewController&lt;UITableViewDataSource, UITableViewDelegate></p>

<p>@end</p>

<p>// .m</p>

<h1>import "AETableViewController.h"</h1>

<p>@interface AETableViewController ()
{
  UITableView <em>_table;
  NSMutableArray </em>_data;
}</p>

<p>@end</p>

<p>@implementation AETableViewController</p>

<ul>
<li><p>(id)initWithNibName:(NSString <em>)nibNameOrNil bundle:(NSBundle </em>)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
  _data = [NSMutableArray arrayWithArray:@[@"美美豆", @"抢拍", @"预约", @"wanghd.com", @"王惠达"]];
}
return self;
}</p></li>
<li><p>(void)viewDidLoad
{
[super viewDidLoad];
CGRect rect = [[UIScreen mainScreen] bounds];
<em>table = [[UITableView alloc]initWithFrame:rect style:UITableViewStylePlain];
</em>table.delegate = self;
<em>table.dataSource = self;
[self.view addSubview:</em>table];
}</p></li>
</ul>


<h1>pragma mark -</h1>

<h1>pragma mark datasource</h1>

<ul>
<li><p>(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
return [_data count];
}</p></li>
<li><p>(UITableViewCell <em>)tableView:(UITableView </em>)tableView cellForRowAtIndexPath:(NSIndexPath <em>)indexPath
{
static NSString </em>cellId = @"cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];
if (cell == nil) {
  cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
}
cell.textLabel.text = [_data objectAtIndex:indexPath.row];
return cell;
}</p></li>
<li><p>(void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}</p></li>
</ul>


<p>@end
```</p>
]]></content>
  </entry>
  
</feed>
