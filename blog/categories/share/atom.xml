<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Share | 老虎的眼睛]]></title>
  <link href="http://www.wanghd.com/blog/categories/share/atom.xml" rel="self"/>
  <link href="http://www.wanghd.com/"/>
  <updated>2013-03-03T21:49:18+08:00</updated>
  <id>http://www.wanghd.com/</id>
  <author>
    <name><![CDATA[王惠达 huida wanghuida]]></name>
    <email><![CDATA[wanghuida258@yahoo.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ubuntu 网络设置]]></title>
    <link href="http://www.wanghd.com/blog/2013/02/26/ubuntu-wang-luo-she-zhi/"/>
    <updated>2013-02-26T15:22:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2013/02/26/ubuntu-wang-luo-she-zhi</id>
    <content type="html"><![CDATA[<h3>ubuntu的网络设置涉及到如下文件：</h3>

<p><code>
/etc/network/interfaces # 网络接口配置，包括网络接口说明、IP地址、子网掩码、网关等
/etc/resolv.conf        # DNS服务器设置
/etc/hostname           # 主机名设置
/etc/hosts              # 域名解析映射
/etc/hosts.allow        # IP访问允许规则
/ect/hosts.deny         # IP访问禁止规则
</code></p>

<ul>
<li>修改网络配置文件后，要重启网络接口，使用命令：/etc/init.d/networking restart</li>
<li>重启单个网口可以使用ifdown eth0,ifup eth0</li>
</ul>


<!-- more -->


<h3>dhcp</h3>

<p><code>
vim /etc/network/interfaces
auto eth0               # 设置eth0开机自动加载
iface eth0 inet dhcp    # 定义网络接口eth0为Internet，DHCP方式。
</code></p>

<h3>static</h3>

<p><code>
auto eth0
iface eth inet static
address 192.168.0.110
gateway 192.168.0.1
netmask 255.255.255.0
</code></p>

<h3>dns</h3>

<p>```
vim /etc/resolv.conf</p>

<p>nameserver x.x.x.x  # 首要DNS服务器
nameserver x.x.x.x  # 备用DNS服务器
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ubuntu 服务器基础配置]]></title>
    <link href="http://www.wanghd.com/blog/2013/02/26/fu-wu-qi-ji-chu-pei-zhi/"/>
    <updated>2013-02-26T12:58:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2013/02/26/fu-wu-qi-ji-chu-pei-zhi</id>
    <content type="html"><![CDATA[<h3>配置.profile</h3>

<p>```
export EDITOR=vim</p>

<h1>set terminal color</h1>

<p>PS1='[\e[1;32m]\u[\e[m]@' # user
PS1=$PS1'[\e[1;31m]\h[\e[m] ' # host
PS1=$PS1'[\e[1;34m]\W[\e[m] ' # wd</p>

<h1>PS1=$PS1'[\e[1;33m]$(__ruby_version)[\e[m] ' # rvm version</h1>

<h1>PS1=$PS1'[\e[1;32m]$(__git_ps1)[\e[m] ' # git</h1>

<p>export PS1</p>

<p>```</p>

<!-- more -->


<h3>配置.vimrc</h3>

<p>```
set nocompatible
set backspace=2</p>

<p>set nu
syntax on</p>

<p>set autoindent
set softtabstop=4
set tabstop=4
set shiftwidth=4
set expandtab</p>

<p>set showmatch
set ruler</p>

<p>filetype plugin on
set laststatus=2
set encoding=utf-8
set hlsearch
set showcmd</p>

<p>set scrolloff=4
set ignorecase smartcase</p>

<p>```</p>

<h3>配置sudo</h3>

<p>```
visudo</p>

<h1>请放在最下面</h1>

<p>wanghuida   ALL=(ALL) NOPASSWD:ALL
```</p>

<h3>配置ssh</h3>

<p>```
sudo apt-get install ssh</p>

<p>sudo vim /etc/ssh/sshd_config
PasswordAuthentication no</p>

<p>sudo /etc/init.d/ssh restart</p>

<p>mkdir .ssh
chmod 700 .ssh
cd ssh
touch authorized_keys</p>

<h1>增加pub key进去就可以了</h1>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RTXLDAP教程]]></title>
    <link href="http://www.wanghd.com/blog/2013/01/10/rtxldapjiao-cheng/"/>
    <updated>2013-01-10T10:14:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2013/01/10/rtxldapjiao-cheng</id>
    <content type="html"><![CDATA[<h3>名词解释</h3>

<ol>
<li>RTX: 腾讯出的企业沟通工具</li>
<li>LDAP: 关于人或者其他信息的集中存储，微软的AD就是LDAP的一种</li>
<li>RTXLDAP: 基于RTX的SDK开发出的第三方工具，可以同步LDAP用户，可以RTX与LDAP单点登陆。支持RTX最新版本</li>
</ol>


<!-- more -->


<h3>配置使用</h3>

<ul>
<li>获取源码</li>
</ul>


<p><code>
git clone git@github.com:wanghuida/RTXLDAP.git
</code></p>

<ul>
<li>建议使用vs 2008打开</li>
</ul>


<p><img src="/images/post/rtxldap1.jpg" title="rtxldap1" alt="rtxldap1" /></p>

<ul>
<li>修改App.config配置文件</li>
</ul>


<p>```</p>

<!-- 域 -->


<p><add key="DomainName" value="192.168.1.100/DC=home,DC=net" /></p>

<!-- 域用户,用来读取所有域用户信息 -->


<p><add key="DomainUser" value="wanghuida" /></p>

<!-- 域用户密码 -->


<p><add key="DomainPwd" value="123456" /></p>

<!-- RTX服务IP，建议在同一台,可以免去其他配置 -->


<p><add key="RTXIP" value="127.0.0.1"/></p>

<!-- RTX服务端口 -->


<p><add key="RTXPort"  value="8006"/></p>

<!-- 标识，随意修改，不重复即可 -->


<p><add key="AppGUID" value="{193947E5-E990-4af8-A954-D358B385F099}"/></p>

<!-- 标识，随意修改，不重复即可 -->


<p><add key="AppName" value="WanghuidaRtxLdap"/>
```</p>

<ul>
<li>F5启动调试</li>
</ul>


<p><img src="/images/post/rtxldap2.jpg" title="rtxldap2" alt="rtxldap2" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[jquery在firefox下无法autocomplete]]></title>
    <link href="http://www.wanghd.com/blog/2013/01/04/jqueryzai-firefoxxia-wu-fa-autocomplete/"/>
    <updated>2013-01-04T17:29:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2013/01/04/jqueryzai-firefoxxia-wu-fa-autocomplete</id>
    <content type="html"><![CDATA[<h4>jquery的autocomplete中文输入在firefox无法正常使用</h4>

<ul>
<li>firefox下用input事件触发keydown即可</li>
</ul>


<p>```
$('元素').bind('input', function(){</p>

<pre><code>$(this).trigger('keydown');
</code></pre>

<p>}).bind("keydown", function(event){</p>

<pre><code>事件
</code></pre>

<p>}
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[inotify,rsync统一化配置]]></title>
    <link href="http://www.wanghd.com/blog/2012/11/25/inotify/"/>
    <updated>2012-11-25T16:14:00+08:00</updated>
    <id>http://www.wanghd.com/blog/2012/11/25/inotify</id>
    <content type="html"><![CDATA[<h3>为什么要统一化配置，手动改改不行？</h3>

<ul>
<li>假设有10台服务器，要改10次，错误和遗漏在所难免</li>
<li>需要有一个地方备份配置</li>
<li>也许还需要对配置文件进行版本控制</li>
</ul>


<h3>inotify+rsync改变这一切</h3>

<ul>
<li>inotify可以递归的监控文件是否有新建，修改等</li>
<li>rsync用来同步</li>
</ul>


<!-- more -->


<h3>安装inotify</h3>

<ul>
<li>内核版本要Linux 2.6.13以上</li>
</ul>


<p><code>bash
wget --no-check-certificate https://github.com/downloads/rvoicilas/inotify-tools/inotify-tools-3.14.tar.gz
tar -zxvf inotify-tools-3.14.tar.gz
cd inotify-tools-3.14
./configure
make
make install
</code></p>

<h3>测试脚本监控修改并自动同步</h3>

<ul>
<li>--exclude是用来排除隐藏文件</li>
</ul>


<p>```bash</p>

<h1>!/bin/sh</h1>

<p>ip="192.168.30.1 192.168.30.2"
src="http://www.wanghd.com/tmp/test"
inotifywait --exclude '/.' -mrq -e close_write,delete,move $src | while read line
do</p>

<pre><code>sleep 1
echo $line
for i in $ip
do 
    rsync --exclude=".*" -av --delete-after "$src/" -e ssh "$i:$src/"
done
</code></pre>

<p>done
```</p>
]]></content>
  </entry>
  
</feed>
